import os
import random
import time
from telegram import Update, ReplyKeyboardRemove
from telegram.ext import (
    ApplicationBuilder,
    CommandHandler,
    MessageHandler,
    filters,
    ContextTypes,
)

# ====== Ğ¢ĞĞšĞ•Ğ ======
TOKEN = "8306335540:AAF25MZbf1a-oJbihMzmT0DXU5Q5zyPS2gY"

# ====== ĞšĞĞ Ğ¢Ğ« (Ğ“ĞĞ›ĞĞ¡ ĞœĞĞ›Ğ›Ğ˜) ======
cards = {
    "Ğ¨ÑƒÑ‚": "Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ¸ÑˆÑŒ Ğ½Ğ° ĞºÑ€Ğ°Ñ. Ğ¡Ñ‚Ñ€Ğ°ÑˆĞ½Ğ¾? ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾. ĞĞ¾ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ñ‚Ğ°Ğº Ğ¸ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‚ÑÑ Ğ»ÑƒÑ‡ÑˆĞ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸.",
    "ĞœĞ°Ğ³": "Ñƒ Ñ‚ĞµĞ±Ñ ĞµÑÑ‚ÑŒ Ğ²ÑÑ‘, Ñ‡Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾. Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ»Ğ¸ÑˆÑŒ Ğ² Ñ‚Ğ¾Ğ¼, Ğ¾ÑĞ¼ĞµĞ»Ğ¸ÑˆÑŒÑÑ Ğ»Ğ¸ Ñ‚Ñ‹ ÑÑ‚Ğ¸Ğ¼ Ğ²Ğ¾ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ.",
    "Ğ’ĞµÑ€Ñ…Ğ¾Ğ²Ğ½Ğ°Ñ Ğ¶Ñ€Ğ¸Ñ†Ğ°": "Ñ‚Ñ‹ ÑƒĞ¶Ğµ Ğ·Ğ½Ğ°ĞµÑˆÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚. ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ¿ĞµÑ€ĞµÑÑ‚Ğ°Ğ½ÑŒ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ²Ğ¸Ğ´, Ñ‡Ñ‚Ğ¾ Ğ½ĞµÑ‚.",
    "Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğ°": "Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ñ€Ğ°ÑÑ‚Ñ‘Ñ‚ Ğ¸ Ğ½Ğ°Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ ÑĞ¸Ğ»Ñƒ. ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑŒ ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ±Ñ‹Ñ‚ÑŒ.",
    "Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€": "Ğ¿Ğ¾Ñ€Ğ° Ğ½Ğ°Ğ²ĞµÑÑ‚Ğ¸ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº. Ğ’ ÑĞµĞ±Ğµ, Ğ² Ğ¶Ğ¸Ğ·Ğ½Ğ¸, Ğ² Ñ€ĞµÑˆĞµĞ½Ğ¸ÑÑ….",
    "Ğ˜ĞµÑ€Ğ¾Ñ„Ğ°Ğ½Ñ‚": "Ğ¸Ğ½Ğ¾Ğ³Ğ´Ğ° ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¿Ñ€Ğ¸ÑĞ»ÑƒÑˆĞ°Ñ‚ÑŒÑÑ Ğº Ğ¾Ğ¿Ñ‹Ñ‚Ñƒ. Ğ”Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Ğ¾Ğ½ ĞºĞ°Ğ¶ĞµÑ‚ÑÑ ÑĞºÑƒÑ‡Ğ½Ñ‹Ğ¼.",
    "Ğ’Ğ»ÑĞ±Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ": "Ğ²Ñ‹Ğ±Ğ¾Ñ€ ÑĞ´ĞµĞ»Ğ°Ğ½ ÑĞµÑ€Ğ´Ñ†ĞµĞ¼. Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ½Ğµ Ğ¿Ñ€Ğ¸Ñ‚Ğ²Ğ¾Ñ€ÑĞ¹ÑÑ, Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ° Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°.",
    "ĞšĞ¾Ğ»ĞµÑĞ½Ğ¸Ñ†Ğ°": "Ñ‚Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ÑŒÑÑ Ğ´Ğ°Ğ»ÑŒÑˆĞµ. Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ â€” Ğ½Ğµ Ñ‚ÑĞ½Ğ¸ Ğ²ÑÑ‘ ÑÑ€Ğ°Ğ·Ñƒ Ğ² Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹.",
    "Ğ¡Ğ¸Ğ»Ğ°": "Ñ‚Ñ‹ ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ, Ñ‡ĞµĞ¼ Ğ´ÑƒĞ¼Ğ°ĞµÑˆÑŒ. ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ñ‚Ğ°Ğ¼, Ğ³Ğ´Ğµ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ ÑĞ´Ğ°Ñ‘ÑˆÑŒÑÑ.",
    "ĞÑ‚ÑˆĞµĞ»ÑŒĞ½Ğ¸Ğº": "Ğ¿Ğ°ÑƒĞ·Ğ° Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ°. ĞĞµ Ğ±ĞµĞ³ÑÑ‚Ğ²Ğ¾ â€” Ğ° Ñ‚Ğ¸ÑˆĞ¸Ğ½Ğ°.",
    "ĞšĞ¾Ğ»ĞµÑĞ¾ Ğ¤Ğ¾Ñ€Ñ‚ÑƒĞ½Ñ‹": "Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ. Ğ¥Ğ¾Ñ‡ĞµÑˆÑŒ Ñ‚Ñ‹ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑ‚ â€” Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‡Ğ½Ñ‹Ğ¹.",
    "Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞµĞ´Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ": "Ğ±ÑƒĞ´ÑŒ Ñ‡ĞµÑÑ‚ĞµĞ½. ĞŸĞµÑ€ĞµĞ´ ÑĞ¾Ğ±Ğ¾Ğ¹ Ğ² Ğ¿ĞµÑ€Ğ²ÑƒÑ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ.",
    "ĞŸĞ¾Ğ²ĞµÑˆĞµĞ½Ğ½Ñ‹Ğ¹": "ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ÑÑ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ÑŒÑÑ Ğ²Ğ¿ĞµÑ€Ñ‘Ğ´ â€” Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸ Ğ¸Ğ½Ğ°Ñ‡Ğµ.",
    "Ğ¡Ğ¼ĞµÑ€Ñ‚ÑŒ": "ÑÑ‚Ğ¾ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ. Ğ˜ Ğ´Ğ°, ÑÑ‚Ğ¾ Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ´Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Ğ¿Ğ¾ĞºĞ° Ğ±Ğ¾Ğ»ÑŒĞ½Ğ¾.",
    "Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ": "Ğ½Ğµ ÑĞ¿ĞµÑˆĞ¸. Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ²Ğ°Ğ¶ĞµĞ½ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ.",
    "Ğ”ÑŒÑĞ²Ğ¾Ğ»": "Ñ‚Ñ‹ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ ĞºÑ€ĞµĞ¿ĞºĞ¾ Ğ´ĞµÑ€Ğ¶Ğ¸ÑˆÑŒÑÑ. Ğ˜ ÑÑ‚Ğ¾ Ñ‚ĞµĞ±Ñ Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚.",
    "Ğ‘Ğ°ÑˆĞ½Ñ": "Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ñ€ÑƒÑˆĞ¸Ñ‚ÑÑ. Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾, Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ ÑÑ‚Ğ¾ Ğ´Ğ°Ğ²Ğ½Ğ¾ Ğ¿Ğ¾Ñ€Ğ° Ğ±Ñ‹Ğ»Ğ¾ Ñ€Ğ°Ğ·Ñ€ÑƒÑˆĞ¸Ñ‚ÑŒ.",
    "Ğ—Ğ²ĞµĞ·Ğ´Ğ°": "Ğ½Ğ°Ğ´ĞµĞ¶Ğ´Ğ° ĞµÑÑ‚ÑŒ. Ğ”Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Ñ‚Ñ‹ ĞµÑ‘ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸ Ğ½Ğµ Ğ²Ğ¸Ğ´Ğ¸ÑˆÑŒ.",
    "Ğ›ÑƒĞ½Ğ°": "Ğ½Ğµ Ğ²ÑÑ‘ Ñ‚Ğ°Ğº, ĞºĞ°Ğº ĞºĞ°Ğ¶ĞµÑ‚ÑÑ. Ğ˜ Ñ‚Ñ‹ ÑÑ‚Ğ¾ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑˆÑŒ.",
    "Ğ¡Ğ¾Ğ»Ğ½Ñ†Ğµ": "ÑÑĞ½Ğ¾ÑÑ‚ÑŒ, Ñ‚ĞµĞ¿Ğ»Ğ¾ Ğ¸ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚, ĞºĞ¾Ğ³Ğ´Ğ° Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ´Ğ¾Ñ…Ğ½ÑƒÑ‚ÑŒ.",
    "Ğ¡ÑƒĞ´": "Ğ¿Ğ¾Ñ€Ğ° Ğ¿ĞµÑ€ĞµÑÑ‚Ğ°Ñ‚ÑŒ ÑƒĞ±ĞµĞ³Ğ°Ñ‚ÑŒ Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾Ğ³Ğ¾.",
    "ĞœĞ¸Ñ€": "Ñ‚Ñ‹ Ğ´Ğ¾ÑˆÑ‘Ğ» Ğ´Ğ¾ ĞºĞ¾Ğ½Ñ†Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ÑƒÑ‚Ğ¸. Ğ˜ ÑÑ‚Ğ¾ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ¾.",
}

reversed_cards = {
    "Ğ¨ÑƒÑ‚": "Ñ‚Ñ‹ Ğ±Ğ¾Ğ¸ÑˆÑŒÑÑ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ ÑˆĞ°Ğ³. ĞĞµ Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ Ğ½Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ² â€” Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ ÑĞ¾Ğ¼Ğ½ĞµĞ²Ğ°ĞµÑˆÑŒÑÑ.",
    "ĞœĞ°Ğ³": "Ñ‚Ñ‹ Ğ½Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑˆÑŒ ÑĞ²Ğ¾Ğ¹ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ».",
    "Ğ’ĞµÑ€Ñ…Ğ¾Ğ²Ğ½Ğ°Ñ Ğ¶Ñ€Ğ¸Ñ†Ğ°": "Ñ‚Ñ‹ Ğ¸Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµÑˆÑŒ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ Ğ³Ğ¾Ğ»Ğ¾Ñ.",
    "Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğ°": "Ñ‚Ñ‹ Ğ¾Ñ‚ĞºĞ»Ğ°Ğ´Ñ‹Ğ²Ğ°ĞµÑˆÑŒ Ğ·Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğ¼.",
    "Ğ˜Ğ¼Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€": "ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ Ğ´ÑƒÑˆĞ¸Ñ‚ÑŒ.",
    "Ğ˜ĞµÑ€Ğ¾Ñ„Ğ°Ğ½Ñ‚": "Ñ‡ÑƒĞ¶Ğ¸Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¼ĞµÑˆĞ°ÑÑ‚ ÑƒÑĞ»Ñ‹ÑˆĞ°Ñ‚ÑŒ ÑĞµĞ±Ñ.",
    "Ğ’Ğ»ÑĞ±Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ": "Ñ‚Ñ‹ Ğ¸Ğ·Ğ±ĞµĞ³Ğ°ĞµÑˆÑŒ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°.",
    "ĞšĞ¾Ğ»ĞµÑĞ½Ğ¸Ñ†Ğ°": "Ñ‚Ñ‹ Ğ·Ğ°ÑÑ‚Ñ€ÑĞ» Ğ¼ĞµĞ¶Ğ´Ñƒ Â«Ñ…Ğ¾Ñ‡ÑƒÂ» Ğ¸ Â«Ğ½Ğ°Ğ´Ğ¾Â».",
    "Ğ¡Ğ¸Ğ»Ğ°": "Ñ‚Ñ‹ Ñ‚Ñ€Ğ°Ñ‚Ğ¸ÑˆÑŒ ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ Ğ½Ğ° ÑĞ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ.",
    "ĞÑ‚ÑˆĞµĞ»ÑŒĞ½Ğ¸Ğº": "Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ°Ñ‚ÑĞ½ÑƒĞ»Ğ¾ÑÑŒ.",
    "ĞšĞ¾Ğ»ĞµÑĞ¾ Ğ¤Ğ¾Ñ€Ñ‚ÑƒĞ½Ñ‹": "Ñ‚Ñ‹ Ñ†ĞµĞ¿Ğ»ÑĞµÑˆÑŒÑÑ Ğ·Ğ° ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ».",
    "Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞµĞ´Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ": "Ñ‚Ñ‹ Ğ½Ğµ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ Ğ¿Ñ€Ğ¸Ğ·Ğ½Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ´Ñƒ.",
    "ĞŸĞ¾Ğ²ĞµÑˆĞµĞ½Ğ½Ñ‹Ğ¹": "Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ğ»Ğ¾ Ğ»Ğ¾Ğ²ÑƒÑˆĞºĞ¾Ğ¹.",
    "Ğ¡Ğ¼ĞµÑ€Ñ‚ÑŒ": "Ñ‚Ñ‹ Ğ´ĞµÑ€Ğ¶Ğ¸ÑˆÑŒÑÑ Ğ·Ğ° Ñ‚Ğ¾, Ñ‡Ñ‚Ğ¾ ÑƒĞ¶Ğµ Ğ¼ĞµÑ€Ñ‚Ğ²Ğ¾.",
    "Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ": "Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½.",
    "Ğ”ÑŒÑĞ²Ğ¾Ğ»": "Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ, Ñ‡ĞµĞ¼ ĞºĞ°Ğ¶ĞµÑ‚ÑÑ.",
    "Ğ‘Ğ°ÑˆĞ½Ñ": "Ñ‚Ñ‹ Ğ´ĞµĞ»Ğ°ĞµÑˆÑŒ Ğ²Ğ¸Ğ´, Ñ‡Ñ‚Ğ¾ Ğ²ÑÑ‘ Ğ² Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ.",
    "Ğ—Ğ²ĞµĞ·Ğ´Ğ°": "Ğ½Ğ°Ğ´ĞµĞ¶Ğ´Ğ° Ğ¿Ñ€Ğ¸Ğ³Ğ»ÑƒÑˆĞµĞ½Ğ°, Ğ½Ğ¾ Ğ¶Ğ¸Ğ²Ğ°.",
    "Ğ›ÑƒĞ½Ğ°": "ÑÑ‚Ñ€Ğ°Ñ…Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‚ Ñ€ĞµÑˆĞµĞ½Ğ¸ÑĞ¼Ğ¸.",
    "Ğ¡Ğ¾Ğ»Ğ½Ñ†Ğµ": "Ñ‚Ñ‹ Ğ½Ğµ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑˆÑŒ ÑĞµĞ±Ğµ Ñ€Ğ°Ğ´Ğ¾ÑÑ‚ÑŒ.",
    "Ğ¡ÑƒĞ´": "Ñ‚Ñ‹ Ğ¾Ñ‚ĞºĞ»Ğ°Ğ´Ñ‹Ğ²Ğ°ĞµÑˆÑŒ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€.",
    "ĞœĞ¸Ñ€": "Ñ‚Ñ‹ Ğ½Ğµ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑˆÑŒ ÑĞµĞ±Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ.",
}

heavy_reactions = {
    "Ğ¡Ğ¼ĞµÑ€Ñ‚ÑŒ": ["Ğ¯ Ğ½Ğµ Ğ¿ÑƒĞ³Ğ°Ñ Ñ‚ĞµĞ±Ñ. Ğ¯ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´Ğ°Ñ."],
    "Ğ‘Ğ°ÑˆĞ½Ñ": ["Ğ”ĞµÑ€Ğ¶Ğ¸ÑÑŒ ĞºÑ€ĞµĞ¿Ñ‡Ğµ."],
    "Ğ”ÑŒÑĞ²Ğ¾Ğ»": ["Ğ‘ÑƒĞ´ÑŒ Ñ‡ĞµÑÑ‚ĞµĞ½ Ñ ÑĞ¾Ğ±Ğ¾Ğ¹."],
    "Ğ›ÑƒĞ½Ğ°": ["Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ğ²Ğ°Ğ¶Ğ½Ğ¾ Ğ½Ğµ Ğ²Ñ€Ğ°Ñ‚ÑŒ ÑĞµĞ±Ğµ."],
}

micro_comments = [
    "ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ¼â€¦",
    "Ğ’Ğ¾Ñ‚ ĞºĞ°Ğºâ€¦",
    "Ğ˜Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ğ¾.",
    "ĞšĞ°Ñ€Ñ‚Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹.",
]

# ====== Ğ¡ĞĞ’Ğ•Ğ¢Ğ« ======
advice_phrases = [
    "ĞŸĞµÑ€ĞµÑÑ‚Ğ°Ğ½ÑŒ Ğ¶Ğ´Ğ°Ñ‚ÑŒ Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ğ°.",
    "Ğ¢Ñ‹ Ğ½Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ğ½ Ñ€ĞµÑˆĞ°Ñ‚ÑŒ ÑÑ‚Ğ¾ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ.",
    "Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿ÑƒĞ³Ğ°ĞµÑ‚ â€” Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚, Ğ¾Ğ½ Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹.",
    "ĞĞµ Ğ¿Ñ‹Ñ‚Ğ°Ğ¹ÑÑ Ğ²ÑÑ‘ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ. ĞŸĞ¾Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞ¹.",
    "Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ Ğ±ĞµÑ€ĞµÑ‡ÑŒ ÑĞµĞ±Ñ.",
]

advice_refusal_phrases = [
    "Ğ¯ Ğ½Ğµ Ğ´Ğ°Ğ¼ ÑĞ¾Ğ²ĞµÑ‚. Ğ¢Ñ‹ Ğ¸ Ñ‚Ğ°Ğº Ğ·Ğ½Ğ°ĞµÑˆÑŒ.",
    "Ğ•ÑĞ»Ğ¸ Ñ ÑĞºĞ°Ğ¶Ñƒ â€” Ñ‚Ñ‹ Ğ½Ğµ ÑƒÑĞ»Ñ‹ÑˆĞ¸ÑˆÑŒ.",
]

# ====== ĞŸĞ Ğ˜Ğ’Ğ•Ğ¢Ğ¡Ğ¢Ğ’Ğ˜Ğ¯ ======
start_greetings = [
    "Ğ¢Ñ‹ Ğ¿Ñ€Ğ¸ÑˆÑ‘Ğ» Ğ²Ğ¾Ğ²Ñ€ĞµĞ¼Ñ. ĞšĞ°Ñ€Ñ‚Ñ‹ ÑƒĞ¶Ğµ Ñ€Ğ°Ğ·Ğ»Ğ¾Ğ¶ĞµĞ½Ñ‹, Ğ½Ğ¾ Ñ Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ ÑĞ¼Ğ¾Ñ‚Ñ€Ñ.",
    "Ğ¡Ğ°Ğ´Ğ¸ÑÑŒ. Ğ¯ Ğ½Ğµ Ğ·Ğ°Ğ´Ğ°Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² â€” ĞºĞ°Ñ€Ñ‚Ñ‹ ÑĞ´ĞµĞ»Ğ°ÑÑ‚ ÑÑ‚Ğ¾ Ğ·Ğ° Ğ¼ĞµĞ½Ñ.",
    "Ğ˜Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ğ¾â€¦ ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾ ĞºĞ¾ Ğ¼Ğ½Ğµ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚, ĞºĞ¾Ğ³Ğ´Ğ° Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ ÑƒĞ¶Ğµ Ñ‚Ñ€ĞµÑĞ½ÑƒĞ»Ğ¾.",
    "Ğ¢Ñ‹ Ğ·Ğ´ĞµÑÑŒ. Ğ—Ğ½Ğ°Ñ‡Ğ¸Ñ‚, Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ‚ĞµĞ±Ñ ĞµÑÑ‚ÑŒ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ. Ğ˜Ğ»Ğ¸ ÑÑ‚Ñ€Ğ°Ñ….",
    "ĞĞµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€ĞµÑˆĞ°ĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ´Ğ¾Ğ¹Ñ‚Ğ¸. ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ¼, Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ²ĞµĞ»Ğ¾ Ñ‚ĞµĞ±Ñ.",
    "Ğ¢Ğ¸ÑˆĞµ. Ğ˜Ğ½Ğ¾Ğ³Ğ´Ğ° Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ¿ÑƒĞ³Ğ°ÑÑ‚ÑÑ Ğ³Ñ€Ğ¾Ğ¼ĞºĞ¸Ñ… Ğ¼Ñ‹ÑĞ»ĞµĞ¹.",
]

# ====== Ğ¨ĞĞŸĞĞ¢ (ĞšĞĞ¢Ğ•Ğ“ĞĞ Ğ˜Ğ˜) ======
whisper_common = [
    "ĞĞµ Ğ²ÑĞµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°.",
    "ĞšĞ°Ñ€Ñ‚Ñ‹ ÑĞ»Ñ‹ÑˆĞ°Ñ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ, Ñ‡ĞµĞ¼ Ğ³Ğ¾Ğ²Ğ¾Ñ€ÑÑ‚.",
    "Ğ˜Ğ½Ğ¾Ğ³Ğ´Ğ° Ğ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ğµ â€” Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ Ñ€Ğ°ÑĞºĞ»Ğ°Ğ´.",
    "Ğ¢Ñ‹ Ğ·Ğ°Ğ´Ğ°Ñ‘ÑˆÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹. ĞŸĞ¾Ñ‡Ñ‚Ğ¸.",
    "ĞĞµ Ñ‚Ğ¾Ñ€Ğ¾Ğ¿Ğ¸ ÑÑƒĞ´ÑŒĞ±Ñƒ. ĞĞ½Ğ° ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ½Ğµ Ğ»ÑĞ±Ğ¸Ñ‚.",
]

whisper_personal = [
    "Ğ¢Ñ‹ ÑƒĞ¶Ğµ Ğ·Ğ½Ğ°ĞµÑˆÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚. ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ±Ğ¾Ğ¸ÑˆÑŒÑÑ ĞµĞ³Ğ¾ ÑƒÑĞ»Ñ‹ÑˆĞ°Ñ‚ÑŒ.",
    "Ğ­Ñ‚Ğ¾Ñ‚ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Ğº Ñ‚ĞµĞ±Ğµ Ğ½Ğµ Ğ² Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ñ€Ğ°Ğ·.",
    "Ğ¢Ñ‹ ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ, Ñ‡ĞµĞ¼ Ğ´ÑƒĞ¼Ğ°ĞµÑˆÑŒ. ĞĞ¾ Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ Ğ²ĞµÑ€Ğ¸ÑˆÑŒ.",
    "Ğ¢Ñ‹ Ğ¸Ñ‰ĞµÑˆÑŒ Ğ·Ğ½Ğ°Ğº, Ğ° Ğ½Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ.",
    "Ğ˜Ğ½Ğ¾Ğ³Ğ´Ğ° Ñ‚Ñ‹ Ğ¿Ñ€Ğ¸Ñ‚Ğ²Ğ¾Ñ€ÑĞµÑˆÑŒÑÑ, Ñ‡Ñ‚Ğ¾ Ğ½Ğµ Ğ²Ğ¸Ğ´Ğ¸ÑˆÑŒ Ğ¾Ñ‡ĞµĞ²Ğ¸Ğ´Ğ½Ğ¾Ğ³Ğ¾.",
]

whisper_rare = [
    "Ğ¯ Ğ±Ñ‹ Ğ½Ğµ ÑÑ‚Ğ°Ğ»Ğ° Ğ·Ğ°Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ ÑĞ½Ğ¾Ğ²Ğ°.",
    "ĞĞµ Ğ²ÑÑ‘, Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ ÑƒĞ·Ğ½Ğ°Ñ‚ÑŒ, Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ ÑƒĞ·Ğ½Ğ°Ğ½Ğ½Ñ‹Ğ¼.",
    "ĞšĞ°Ñ€Ñ‚Ñ‹ Ğ·Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ğ»Ğ¸ Ñ‚ĞµĞ±Ñ.",
    "Ğ’ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ· Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼.",
    "ĞĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¿ÑƒÑ‚Ğ¸ Ğ»ÑƒÑ‡ÑˆĞµ Ğ½Ğµ Ğ¾ÑĞ²ĞµÑ‰Ğ°Ñ‚ÑŒ.",
]

# ====== Ğ¤Ğ ĞĞ—Ğ« Ğ”Ğ›Ğ¯ "Ğ ĞĞĞ¯Ğ•Ğ¢ ĞšĞĞ Ğ¢Ğ«" ======
dropped_cards_compliments = [
    "ĞĞ¹, ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ²Ñ‹Ğ¿Ğ°Ğ»Ğ¸ Ğ¸Ğ· Ñ€ÑƒĞº... Ğ˜Ğ·Ğ²Ğ¸Ğ½Ğ¸, ÑÑ‚Ğ¾ Ğ²ÑÑ‘ Ñ‚Ğ²Ğ¾Ğ¹ Ğ²Ğ·Ğ³Ğ»ÑĞ´. *Ğ¿Ğ¾Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞµÑ€ÑŒĞ³Ñƒ* Ğ¢Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾... Ğ¾Ğ¿Ğ°ÑĞµĞ½.",
    "Ğ§Ñ‘Ñ€Ñ‚, Ñ€Ğ°ÑÑÑ‹Ğ¿Ğ°Ğ» ĞºĞ°Ñ€Ñ‚Ñ‹. Ğ—Ğ½Ğ°ĞµÑˆÑŒ, ĞºĞ¾Ğ³Ğ´Ğ° Ñ‚Ñ‹ Ñ‚Ğ°Ğº ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸ÑˆÑŒ, Ñ Ñ‚ĞµÑ€ÑÑ ĞºĞ¾Ğ½Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ñ†Ğ¸Ñ.",
    "Ğ£Ñ€Ğ¾Ğ½Ğ¸Ğ» ĞºĞ¾Ğ»Ğ¾Ğ´Ñƒ. *Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚* ĞĞ¸Ñ‡ĞµĞ³Ğ¾, Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ñ‚Ñ‹ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼... Ñ…Ğ°Ñ€Ğ¸Ğ·Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹.",
    "ĞšĞ°Ñ€Ñ‚Ñ‹ Ñ€Ğ°Ğ·Ğ»ĞµÑ‚ĞµĞ»Ğ¸ÑÑŒ! Ğ­Ñ‚Ğ¾ Ñ‚Ñ‹ Ğ²Ğ¸Ğ½Ğ¾Ğ²Ğ°Ñ‚, Ğ½Ğµ Ğ½Ğ°Ğ´Ğ¾ Ñ‚Ğ°Ğº ÑƒĞ»Ñ‹Ğ±Ğ°Ñ‚ÑŒÑÑ.",
    "ĞÑ…, Ğ¿Ñ€Ğ¾ÑÑ‹Ğ¿Ğ°Ğ» Ğ²ÑÑ‘. *ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚* Ğ¢Ğ²Ğ¾Ñ ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ ÑĞ¸Ğ»ÑŒĞ½Ğ°Ñ, Ğ´Ğ°Ğ¶Ğµ ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ½Ğµ Ğ²Ñ‹Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ÑÑ‚.",
    "ĞĞ¹, ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ½Ğ° Ğ¿Ğ¾Ğ». *ÑĞ¼ÑƒÑ‰Ñ‘Ğ½Ğ½Ğ¾* Ğ¢Ñ‹ Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒĞµÑˆÑŒ Ğ½Ğ° Ğ¼ĞµĞ½Ñ... Ğ½ĞµĞ¿Ñ€ĞµĞ´ÑĞºĞ°Ğ·ÑƒĞµĞ¼Ğ¾.",
    "ĞĞµ Ğ¼Ğ¾Ğ³Ñƒ ÑƒĞ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¾Ğ´Ñƒ, ĞºĞ¾Ğ³Ğ´Ğ° Ñ‚Ñ‹ Ñ€ÑĞ´Ğ¾Ğ¼. *Ğ¿Ğ¾Ğ´Ğ¼Ğ¸Ğ³Ğ¸Ğ²Ğ°ĞµÑ‚*",
]

# Ğ”Ğ»Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ Ğ±ĞµĞ· ĞºĞ°Ñ€Ñ‚ (advice, whisper) â€“ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğµ Ñ„Ñ€Ğ°Ğ·Ñ‹
distracted_phrases = [
    "ĞĞ¹, Ğ·Ğ°Ğ´ÑƒĞ¼Ğ°Ğ»ÑÑ... Ğ¢Ñ‹ Ğ¾Ñ‚Ğ²Ğ»ĞµĞºĞ°ĞµÑˆÑŒ.",
    "Ğ§Ñ‚Ğ¾? Ğ, Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¸, Ğ·Ğ°ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ»ÑÑ. ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ?",
    "ĞœĞ¼Ğ¼... Ñ‚Ñ‹ Ğ¼ĞµĞ½Ñ ÑĞ±Ğ¸Ğ» Ñ Ğ¼Ñ‹ÑĞ»Ğ¸.",
    "Ğ¢ĞµÑ€ÑÑ Ğ½Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ°, ĞºĞ¾Ğ³Ğ´Ğ° Ñ‚Ñ‹ Ñ‚Ğ°Ğº ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸ÑˆÑŒ.",
]

# ====== ĞšĞĞœĞœĞ•ĞĞ¢ĞĞ Ğ˜Ğ˜ Ğ”Ğ›Ğ¯ ĞšĞ£Ğ‘Ğ˜ĞšĞ d20 ======
roll_comments = {
    "critical_fail": [  # 1
        "Ğ•Ğ´Ğ¸Ğ½Ğ¸Ñ†Ğ°. Ğ”Ğ°Ğ¶Ğµ Ñ Ğ½Ğµ Ğ·Ğ½Ğ°Ñ, Ñ‡Ñ‚Ğ¾ Ñ…ÑƒĞ¶Ğµ â€” Ñ‚Ğ²Ğ¾Ğ¹ Ğ±Ñ€Ğ¾ÑĞ¾Ğº Ğ¸Ğ»Ğ¸ ÑˆÑƒÑ‚ĞºĞ¸ Ğ‘Ğ¾.",
        "1. ĞŸÑ€Ğ¾Ğ²Ğ°Ğ». Ğ—Ğ°Ñ‚Ğ¾ ÑÑ„Ñ„ĞµĞºÑ‚Ğ½Ğ¾. ĞœĞ¾Ğ¶ĞµÑˆÑŒ ÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾Ğ¼ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ´Ñ€Ğ°Ğ¼Ñ‹.",
        "ĞĞ¹... Ğ­Ñ‚Ğ¾ Ğ´Ğ°Ğ¶Ğµ Ğ½Ğµ ÑĞ¼ĞµÑˆĞ½Ğ¾. ĞÑƒ, Ğ±Ñ‹Ğ²Ğ°ĞµÑ‚. Ğ£ ÑÑƒĞ´ÑŒĞ±Ñ‹ Ñ‚Ğ¾Ğ¶Ğµ Ğ±Ñ‹Ğ²Ğ°ÑÑ‚ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ.",
        "ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ»! Ğ¯ Ğ±Ñ‹ Ğ¿Ğ¾ÑĞ¼ĞµÑĞ»ÑÑ, Ğ½Ğ¾ Ğ²Ğ´Ñ€ÑƒĞ³ Ñ‚Ñ‹ ÑĞµĞ¹Ñ‡Ğ°Ñ Ğ·Ğ°Ğ¿Ğ»Ğ°Ñ‡ĞµÑˆÑŒ?",
    ],
    "low": [  # 2â€“5
        "ĞœĞ°Ğ»Ğ¾Ğ²Ğ°Ñ‚Ğ¾. ĞĞ¾ Ğ½Ğµ ÑĞ¼ĞµÑ€Ñ‚ĞµĞ»ÑŒĞ½Ğ¾. Ğ¥Ğ¾Ñ‚Ñ ĞºÑ‚Ğ¾ Ñ Ñ‚Ğ°ĞºĞ¾Ğ¹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ‚ĞµĞ±Ñ Ğ¾ÑÑƒĞ¶Ğ´Ğ°Ñ‚ÑŒ?",
        "Ğ¢Ğ°Ğº ÑĞµĞ±Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚. ĞŸÑ€ÑĞ¼Ğ¾ ĞºĞ°Ğº Ğ¼Ğ¾Ñ‘ ÑƒÑ‚Ñ€Ğ¾ Ğ±ĞµĞ· Ñ€Ğ¸Ñ‚ÑƒĞ°Ğ»Ğ¾Ğ².",
        "ĞÑƒ, Ğ¼Ğ¾Ğ³Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ñ…ÑƒĞ¶Ğµ. ĞœĞ¾Ğ³Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ 1. Ğ¢Ğ°Ğº Ñ‡Ñ‚Ğ¾ Ñ€Ğ°Ğ´ÑƒĞ¹ÑÑ Ğ¼ĞµĞ»Ğ¾Ñ‡Ğ°Ğ¼.",
        "ĞĞµ Ğ²Ğ¿ĞµÑ‡Ğ°Ñ‚Ğ»ÑĞµÑ‚. ĞĞ¾ Ñ Ğ²ÑÑ‘ Ñ€Ğ°Ğ²Ğ½Ğ¾ ÑĞºĞ°Ğ¶Ñƒ, Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ ÑÑƒĞ´ÑŒĞ±Ğ°.",
    ],
    "medium": [  # 6â€“14
        "ĞĞ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾. ĞĞµ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾ Ğ¸ Ğ½Ğµ Ğ¿Ğ»Ğ¾Ñ…Ğ¾.",
        "Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚. Ğ¡ĞºÑƒÑ‡Ğ½Ğ¾Ğ²Ğ°Ñ‚Ğ¾, Ğ½Ğ¾ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾.",
        "ĞœĞ¾Ğ³Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ»ÑƒÑ‡ÑˆĞµ, Ğ¼Ğ¾Ğ³Ğ»Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ñ…ÑƒĞ¶Ğµ. ĞšĞ°Ğº Ñ‚Ğ²Ğ¾Ñ Ğ¶Ğ¸Ğ·Ğ½ÑŒ Ğ² Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ.",
        "ĞĞ¸ Ñ€Ñ‹Ğ±Ğ° Ğ½Ğ¸ Ğ¼ÑÑĞ¾. ĞĞ¾ ĞºĞ°Ñ€Ñ‚Ñ‹ Ğ³Ğ¾Ğ²Ğ¾Ñ€ÑÑ‚, Ñ‡Ñ‚Ğ¾ Ñ‚Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑˆÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ.",
    ],
    "high": [  # 15â€“19
        "ĞĞ³Ğ¾! ĞĞµĞ¿Ğ»Ğ¾Ñ…Ğ¾! Ğ¢Ñ‹ Ğ¼ĞµĞ½Ñ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸ Ğ²Ğ¿ĞµÑ‡Ğ°Ñ‚Ğ»Ğ¸Ğ». ĞŸĞ¾Ñ‡Ñ‚Ğ¸.",
        "Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğ¹ Ğ±Ñ€Ğ¾ÑĞ¾Ğº. Ğ¯ Ğ±Ñ‹ Ğ´Ğ°Ğ¶Ğµ ÑĞºĞ°Ğ·Ğ°Ğ», Ğ´Ğ¾ÑÑ‚Ğ¾Ğ¹Ğ½Ñ‹Ğ¹ Ğ¼ĞµĞ½Ñ.",
        "Ğ¢Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ² ÑƒĞ´Ğ°Ñ€Ğµ. Ğ˜Ğ»Ğ¸ ÑÑ‚Ğ¾ Ñ Ñ‚Ğ°Ğº Ğ½Ğ° Ñ‚ĞµĞ±Ñ Ğ²Ğ»Ğ¸ÑÑ?",
        "Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚. ĞŸÑ€ÑĞ¼Ğ¾ ĞºĞ°Ğº Ğ¼Ğ¾Ñ ÑĞ°Ğ¼Ğ¾Ğ¾Ñ†ĞµĞ½ĞºĞ°.",
    ],
    "critical_success": [  # 20
        "20! ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑƒÑĞ¿ĞµÑ…! Ğ¯ Ğ´Ğ°Ğ¶Ğµ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ³Ğ¾Ñ€Ğ¶ÑƒÑÑŒ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹. ĞĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾.",
        "Ğ”Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ĞºĞ°! Ğ¡ÑƒĞ´ÑŒĞ±Ğ° ÑĞ²Ğ½Ğ¾ Ğ½Ğ° Ñ‚Ğ²Ğ¾ĞµĞ¹ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ. Ğ˜Ğ»Ğ¸ Ñ Ğ¿Ğ¾Ğ´Ñ‹Ğ³Ñ€Ğ°Ğ»?",
        "Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ñ€Ğ¾ÑĞ¾Ğº. ĞŸÑ€ÑĞ¼Ğ¾ ĞºĞ°Ğº Ñ. *Ğ¿Ğ¾Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ²Ğ¾Ğ»Ğ¾ÑÑ‹*",
        "20! ĞœĞ¾Ğ¶ĞµÑˆÑŒ ÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ, Ñ‡Ñ‚Ğ¾ Ñ‚ĞµĞ±Ñ Ğ¿Ğ¾Ñ†ĞµĞ»Ğ¾Ğ²Ğ°Ğ»Ğ° ÑƒĞ´Ğ°Ñ‡Ğ°. Ğ˜Ğ»Ğ¸ Ñ, ĞµÑĞ»Ğ¸ Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ.",
    ],
    "drop": [  # Ğ•ÑĞ»Ğ¸ ÑƒÑ€Ğ¾Ğ½Ğ¸Ğ» ĞºÑƒĞ±Ğ¸Ğº (3% ÑˆĞ°Ğ½Ñ)
        "Ğ£Ğ¿Ñ, ĞºÑƒĞ±Ğ¸Ğº Ğ²Ñ‹ÑĞºĞ¾Ğ»ÑŒĞ·Ğ½ÑƒĞ»... *Ğ»Ğ¾Ğ²Ğ¸Ñ‚* Ğ”ĞµÑ€Ğ¶Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚: {}. ĞĞ¾ Ğ²Ğ¾Ğ¾Ğ±Ñ‰Ğµ, ÑÑ‚Ğ¾ Ñ Ğ²Ğ¸Ğ½Ğ¾Ğ²Ğ°Ñ‚, Ñ‚Ñ‹ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¾Ğ±Ğ°ÑÑ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹.",
        "ĞĞ¹, ĞºÑƒĞ±Ğ¸Ğº ÑƒĞºĞ°Ñ‚Ğ¸Ğ»ÑÑ Ğ¿Ğ¾Ğ´ ÑÑ‚Ğ¾Ğ»... *Ğ´Ğ¾ÑÑ‚Ğ°Ñ‘Ñ‚* Ğ¢Ğ°Ğº, Ñ‡Ñ‚Ğ¾ Ñ‚Ğ°Ğ¼ Ğ²Ñ‹Ğ¿Ğ°Ğ»Ğ¾? {}. ĞŸĞ¾Ğ²ĞµĞ·Ğ»Ğ¾, Ñ‡Ñ‚Ğ¾ Ñ Ğ½Ğ°ÑˆÑ‘Ğ».",
        "ĞšÑƒĞ±Ğ¸Ğº Ğ·Ğ°ĞºĞ°Ñ‚Ğ¸Ğ»ÑÑ... Ğ¼Ğ¼Ğ¼, Ğ½Ñƒ Ğ´Ğ°Ğ²Ğ°Ğ¹ Ğ¿Ğ¾ÑÑ‡Ğ¸Ñ‚Ğ°ĞµĞ¼, Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ {}. Ğ¯ Ğ¶Ğµ Ğ¿Ñ€Ğ°Ğ²?",
    ]
}

# ====== Ğ¡Ğ¢Ğ˜Ğ›Ğ¬ ĞœĞĞ›Ğ›Ğ˜ ======
def molly_style(text: str) -> str:
    return f"âœ¨ {text}\n\nâ€” ĞœĞ¾Ğ»Ğ»Ğ¸"

def question_not_ready(user_data: dict) -> bool:
    return random.random() < 0.07

def draw_card():
    name = random.choice(list(cards.keys()))
    reversed_card = random.choice([True, False])
    micro = random.choice(micro_comments)

    if reversed_card:
        meaning = reversed_cards[name]
        card_name = f"{name} (Ğ¿ĞµÑ€ĞµĞ²Ñ‘Ñ€Ğ½ÑƒÑ‚Ğ°Ñ)"
    else:
        meaning = cards[name]
        card_name = name

    reaction = ""
    if name in heavy_reactions and random.random() < 0.6:
        reaction = "\n" + random.choice(heavy_reactions[name])

    return card_name, f"{micro}\n{meaning}{reaction}"

# ====== ĞĞ‘Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞ˜ ======
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    greeting = random.choice(start_greetings)
    text = (
        f"{greeting}\n\n"
        "/tarot â€” Ğ²Ñ‹Ñ‚ÑĞ½ÑƒÑ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñƒ\n"
        "/spread â€” Ñ€Ğ°ÑĞºĞ»Ğ°Ğ´\n"
        "/advice â€” ÑĞ¾Ğ²ĞµÑ‚ Ğ±ĞµĞ· ĞºĞ°Ñ€Ñ‚\n"
        "/whisper â€” ÑĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑˆÑ‘Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼\n"
        "/roll â€” Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ d20"
    )
    await update.message.reply_text(
        molly_style(text),
        reply_markup=ReplyKeyboardRemove()
    )

async def tarot(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° "Ğ½ĞµĞ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ"
    if question_not_ready(context.user_data):
        await update.message.reply_text(
            molly_style("Ğ¯ Ğ½Ğµ Ğ±ÑƒĞ´Ñƒ Ñ‚ÑĞ½ÑƒÑ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñƒ. Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ ĞµÑ‰Ñ‘ Ğ½Ğµ ÑĞ¾Ğ·Ñ€ĞµĞ»."),
            reply_markup=ReplyKeyboardRemove()
        )
        return

    # Ğ¨Ğ°Ğ½Ñ ÑƒÑ€Ğ¾Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñ‹ (3%)
    if random.random() < 0.03:
        compliment = random.choice(dropped_cards_compliments)
        await update.message.reply_text(
            molly_style(compliment),
            reply_markup=ReplyKeyboardRemove()
        )
        # ĞŸĞ¾ÑĞ»Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ğ¼ĞµĞ½Ñ‚Ğ° Ğ²ÑÑ‘ Ñ€Ğ°Ğ²Ğ½Ğ¾ Ğ²Ñ‹Ğ´Ğ°Ñ‘Ğ¼ ĞºĞ°Ñ€Ñ‚Ñƒ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¿Ğ°ÑƒĞ·Ñƒ, Ğ½Ğ¾ Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)

    name, meaning = draw_card()
    await update.message.reply_text(
        molly_style(f"*{name}*\n{meaning}"),
        parse_mode="Markdown",
        reply_markup=ReplyKeyboardRemove()
    )

async def spread(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if random.random() < 0.03:
        await update.message.reply_text(
            molly_style("Ğ¯ Ğ½Ğµ Ğ²Ğ¾Ğ·ÑŒĞ¼ÑƒÑÑŒ Ğ·Ğ° Ñ€Ğ°ÑĞºĞ»Ğ°Ğ´. Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ ÑˆÑƒĞ¼Ğ°."),
            reply_markup=ReplyKeyboardRemove()
        )
        return

    # Ğ¨Ğ°Ğ½Ñ ÑƒÑ€Ğ¾Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñ‹ (3%)
    if random.random() < 0.03:
        compliment = random.choice(dropped_cards_compliments)
        await update.message.reply_text(
            molly_style(compliment),
            reply_markup=ReplyKeyboardRemove()
        )

    positions = ["ĞŸÑ€Ğ¾ÑˆĞ»Ğ¾Ğµ", "ĞĞ°ÑÑ‚Ğ¾ÑÑ‰ĞµĞµ", "Ğ‘ÑƒĞ´ÑƒÑ‰ĞµĞµ"]
    result = []
    for pos in positions:
        name, meaning = draw_card()
        result.append(f"*{pos}* â€” {name}\n{meaning}")

    await update.message.reply_text(
        molly_style("\n\n".join(result)),
        parse_mode="Markdown",
        reply_markup=ReplyKeyboardRemove()
    )

async def advice(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if random.random() < 0.03:  # 3% Ğ¾Ñ‚Ğ²Ğ»ĞµÑ‡ÑŒÑÑ
        phrase = random.choice(distracted_phrases)
        await update.message.reply_text(
            molly_style(phrase),
            reply_markup=ReplyKeyboardRemove()
        )
        # ĞŸĞ¾ÑĞ»Ğµ Ğ¾Ñ‚Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ²ÑÑ‘ Ñ€Ğ°Ğ²Ğ½Ğ¾ Ğ´Ğ°Ñ‘Ğ¼ ÑĞ¾Ğ²ĞµÑ‚ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¸ Ğ½Ğµ Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ, Ğ½Ğ¾ Ğ¿ÑƒÑÑ‚ÑŒ Ğ´Ğ°Ñ‘Ğ¼)
    
    if random.random() < 0.15:
        phrase = random.choice(advice_refusal_phrases)
    else:
        phrase = random.choice(advice_phrases)

    await update.message.reply_text(
        molly_style(phrase),
        reply_markup=ReplyKeyboardRemove()
    )

async def whisper(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if random.random() < 0.03:  # 3% Ğ¾Ñ‚Ğ²Ğ»ĞµÑ‡ÑŒÑÑ
        phrase = random.choice(distracted_phrases)
        await update.message.reply_text(
            molly_style(phrase),
            reply_markup=ReplyKeyboardRemove()
        )

    # Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ ÑˆÑ‘Ğ¿Ğ¾Ñ‚Ğ°
    r = random.random()
    if r < 0.1:          # 10% â€“ Ñ€ĞµĞ´ĞºĞ°Ñ
        phrase = random.choice(whisper_rare)
    elif r < 0.4:        # 30% â€“ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ
        phrase = random.choice(whisper_personal)
    else:                 # 60% â€“ Ğ¾Ğ±Ñ‰Ğ°Ñ
        phrase = random.choice(whisper_common)

    await update.message.reply_text(
        molly_style(phrase),
        reply_markup=ReplyKeyboardRemove()
    )

async def roll(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """ĞšĞ¸Ğ´Ğ°ĞµÑ‚ d20 Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚."""
    # Ğ¨Ğ°Ğ½Ñ ÑƒÑ€Ğ¾Ğ½Ğ¸Ñ‚ÑŒ ĞºÑƒĞ±Ğ¸Ğº (3%)
    if random.random() < 0.03:
        # Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚, Ğ½Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ "Ñ€Ğ¾Ğ½ÑĞ½Ğ¸Ğµ"
        result = random.randint(1, 20)
        drop_phrase = random.choice(roll_comments["drop"]).format(result)
        await update.message.reply_text(
            molly_style(drop_phrase),
            reply_markup=ReplyKeyboardRemove()
        )
        return

    # ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ±Ñ€Ğ¾ÑĞ¾Ğº
    result = random.randint(1, 20)
    if result == 1:
        comment = random.choice(roll_comments["critical_fail"])
    elif 2 <= result <= 5:
        comment = random.choice(roll_comments["low"])
    elif 6 <= result <= 14:
        comment = random.choice(roll_comments["medium"])
    elif 15 <= result <= 19:
        comment = random.choice(roll_comments["high"])
    else:  # 20
        comment = random.choice(roll_comments["critical_success"])

    full_text = f"ğŸ² *{result}*\n\n{comment}"
    await update.message.reply_text(
        molly_style(full_text),
        parse_mode="Markdown",
        reply_markup=ReplyKeyboardRemove()
    )

# ====== Ğ—ĞĞŸĞ£Ğ¡Ğš Ğ¡ Ğ’Ğ•Ğ‘Ğ¥Ğ£ĞšĞĞœĞ˜ ======
def main():
    application = ApplicationBuilder().token(TOKEN).build()

    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("tarot", tarot))
    application.add_handler(CommandHandler("spread", spread))
    application.add_handler(CommandHandler("advice", advice))
    application.add_handler(CommandHandler("whisper", whisper))
    application.add_handler(CommandHandler("roll", roll))  # Ğ½Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°

    # Ğ ĞµĞ°Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ»ÑĞ±Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚ â€“ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑÑ…
    application.add_handler(
        MessageHandler(
            filters.TEXT & ~filters.COMMAND & filters.ChatType.PRIVATE,
            start
        )
    )

    port = int(os.environ.get('PORT', 10000))
    render_url = os.environ.get('RENDER_EXTERNAL_URL', '')

    if render_url:
        webhook_url = f"{render_url}/webhook"
        print(f"âœ¨ Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ Ğ²ĞµĞ±-Ñ…ÑƒĞº Ğ½Ğ° {webhook_url}")
        application.run_webhook(
            listen="0.0.0.0",
            port=port,
            url_path="webhook",
            webhook_url=webhook_url
        )
    else:
        print("âš ï¸ RENDER_EXTERNAL_URL Ğ½Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½, Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ polling (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾)")
        application.run_polling()

if __name__ == "__main__":
    main()
